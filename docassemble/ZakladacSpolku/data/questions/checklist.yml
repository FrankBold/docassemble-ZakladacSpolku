metadata:
  title: |
    Kontrolní checklist
  short title: |
    Checklist
  tags:
    - Zakladač
---
features:
  labels above fields: True
---
mandatory: True
code: |
  if not user_logged_in():
    multi_user = True
  if url_args:
    spolekJmeno = url_args['name']
    statutar = url_args['stat']
    zalozeni = url_args['zal']
---
question: |
  Verze průvodce
subquestion: |
  Využili jste stručnou či pokročilejší verzi nástroje?
field: minimalVerze
buttons:
  - "Stručnou verzi": True
  - "Pokročilou verzi": False
---
if: |
  minimalVerze
question: |
  Informace o spolku
subquestion: |
  Základní informace o spolku pro účely sestavení checklistu
fields:
  - Způsob založení: zalozeni
    input type: radio
    choices:
      - Přijetím stanov: stanovy
      - Ustavujícíc schůzi: schuze
  - Statutární orgán: statutar
    input type: radio
    choices:
      - Předseda: predseda
      - Výbor: vybor
  - Způsob doručení na soud: doruceni
    input type: radio
    choices:
      - Osobně: osobne
      - Elektronicky: elektro
---
if: |
  not minimalVerze
question: |
  Informace o spolku
subquestion: |
  Základní informace o spolku pro účely sestavení checklistu
fields:
  - Způsob založení: zalozeni
    input type: radio
    choices:
      - Přijetím stanov: stanovy
      - Ustavujícíc schůzi: schuze
  - Statutární orgán: statutar
    input type: radio
    choices:
      - Předseda: predseda
      - Výbor: vybor
  - Další orgány spolku: organy
    datatype: checkboxes
    choices: 
      - Rada: rada
      - Kontrolní komise: kontrol_komise
      - Rozhodčí komise: rozhod_komise
  - Výkon vedlejší hospodářské činnosti: podnikani
    datatype: yesnoradio
  - Způsob doručení na soud: doruceni
    input type: radio
    choices:
      - Osobně: osobne
      - Elektronicky: elektro
--- 
code: |
  if zalozeni == "stanovy":
    stanovy_t = [
    {1: "Podpisy zakládajících členů jsou úředně ověřeny"},
    {2: "Všechna pole v hranatých závorkách jsou vyplněn"}
    ]
  else:
    stanovy_t = [
    {1: "Stanovy jsou podepsány osobou podávající návrh na zápis, tzn. osobou, která je podepsána na inteligentním formuláři. Podpis nemusí být ověřen."},
    {2: "Všechna pole v hranatých závorkách jsou vyplněn"}
    ]
  
  schuze_t = [
  "Ustavující schůze byla svolána alespoň 30 před jejím konáním.",
  "Všichni přítomní jsou podepsání na Listině přítomných.",
  "Na zápisu jsou podpisy počizovatele a ověřovatela zápisu. (neověřené).",
  "Všechna pole v hranatých závorkách jsou vyplněna."
  ]
  
  prohlaseni_t = [
  "Podpisy zakládajících členů jsou úředně ověřeny",
  "Všechna pole v hranatých závorkách jsou vyplněn"
  ]
  
  souhlas_t = [
  "Kontrola správnosti informací o nemovitosti z katastru nemovitostí.",
  "Souhlas není v době podání návrhu starší než **tři měsíce**.",
  "Všechna pole v hranatých závorkách jsou vyplněna.",
  "Podpis majitele nemovitosti na souhlasu je úředně ověřen."
  ]

  zivnost_t = [
  "Před podáním žádosti máte vyřízené živnostenské oprávnění."
  ]
  
  intForm_t = [
  "Všechna pole inteligentního formuláře jsou řádně vyplněna dle [našeho manuálu](https://frankbold.org/poradna/kategorie/zakladani-spolku/rada/jak-vyplnit-inteligentni-formular-pri-zakladani-spolku).",
  "Podpis na vygenerovaném formuláři je úředně ověřen."
  ]
  
  if doruceni == "osobne":
    odeslani_t = [
    "Veškeré výše uvedené dokumenty jsou originály nebo úředně ověřené kopie.",
    ]
  else:
    odeslani_t = [
    "Veškeré výše uvedené dokumenty jsou opatřeny zaručeným elektronickým podpisem.",
    ]
---
question: |
  Kontrolní přehled
subquestion: |
  % if True:
  Přehled můžete kdykoli znovu otevřít pod ${ action_button_html(interview_url(), label="tímto odkazem", color="primary", size="md") }
  % else:
  Abyste mohli přehled uložit na později a kdykoli se k němu mohli vrátit je potřeba se **[zaregistrovat](${ url_of('register') })**.
  % endif
fields:
  - "##Stanovy": stanovy
    required: False
    datatype: checkboxes
    none of the above: False
    code: |
      stanovy_t
  - "##Zápis z ústavující schůze": schuze
    show if:
      code: |
        zalozeni == "schuze"
    required: False
    datatype: checkboxes
    none of the above: False
    code: |
      schuze_t
  - "##Čestné prohlášení a souhlas členů všech orgánů se zápisem do rejstříku": prohlaseni
    required: False
    datatype: checkboxes
    none of the above: False
    code: |
      prohlaseni_t
  - "##Souhlas majitele nemovitosti s umístěním sídla spolku": souhlas
    required: False
    datatype: checkboxes
    none of the above: False
    code: |
      souhlas_t
  - "##Živnostenské oprávnění": zivnost
    show if:
      code: |
        not minimalVerze and podnikani
    required: False
    datatype: checkboxes
    none of the above: False
    code: |
      schuze_t
  - "##Inteligentní formulář": intForm
    required: False
    datatype: checkboxes
    none of the above: False
    code: |
      intForm_t
  - "##Odeslání na soud": intForm
    required: False
    datatype: checkboxes
    none of the above: False
    code: |
      odeslani_t
---
mandatory: True
code: |
  if stanovy.all_true() and prohlaseni.all_true() and souhlas.all_true():
    konec
  else:
    force_ask('souhlas')
---
question: |
  Děkujeme a přejeme mnoho zdaru!
buttons:
  - Exit: Ukončit
event: konec
---
